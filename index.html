<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>OverNight Demo</title>
  <link rel="stylesheet" href="style.css" />
  <style>
    /* Nâng cấp khung cột trái */
    .left {
      padding: 20px;
      background: #f9f9f9;
      border-right: 1px solid #ccc;
    }

    .left input, .left button {
      width: 100%;
      padding: 10px;
      font-size: 16px;
      margin-top: 10px;
      box-sizing: border-box;
    }

    .left button {
      background-color: #1976d2;
      color: white;
      border: none;
      border-radius: 4px;
      cursor: pointer;
    }

    .left p.note {
      margin-top: 20px;
      background: #e3f2fd;
      padding: 10px;
      border-left: 4px solid #1976d2;
      font-size: 14px;
      color: #444;
    }

    .container {
      display: flex;
      flex-direction: row;
      min-height: 100vh;
    }

    .center, .right {
      padding: 20px;
    }

    .right h2 {
      margin-top: 0;
    }

    img {
      max-width: 100%;
      border-radius: 10px;
      box-shadow: 0 0 6px rgba(0,0,0,0.2);
    }
  </style>
</head>
<body>
  <div class="container">

    <!-- Cột trái: Trải nghiệm thuật toán -->
    <div class="left">
      <h2>Thử thuật toán OverNight</h2>
      <p><em>Mọi số chẵn &gt; 2 đều có thể biểu diễn dưới dạng 2 số nguyên tố.</em></p>

      <label for="x">Nhập số chẵn:</label>
      <input type="text" id="x" placeholder="VD: 1000000000000000000000" />
      <button onclick="solve()">Tìm A + B</button>

      <p id="result">Kết quả sẽ hiển thị ở đây</p>

      <p class="note">
        Thế giới hiện nay mới chỉ kiểm chứng tới X = 10<sup>18</sup>.<br/>
        Với giới hạn gọi API và ngôn ngữ lập trình Python, tôi lựa chọn thiết lập nhẹ nhàng mức kiểm nghiệm tại đây là X = 10<sup>25</sup>.<br/>
        Tuy nhiên, ở môi trường khác, với các giá trị lớn hơn X = 10<sup>30</sup>, thuật toán này vẫn trả về kết quả chỉ trong khoảng 1 giây.
      </p>
    </div>

    <!-- Cột giữa: Thông tin tác giả -->
    <div class="center">
      <img src="snake.jpg" alt="Le Hung Dan" width="160"
           style="border-radius:50%;margin-bottom:10px;" />

      <h3>Le Hung Dan</h3>
      <p><strong>Quốc tịch:</strong> Việt Nam</p>
      <p><strong>Email:</strong> snakenidalee@gmail.com</p>
      <p><strong>Dự án:</strong> OverNight Project</p>
      <p><strong>Vai trò:</strong> Người đưa ra phương pháp chứng minh<br/>
         và tìm nghiệm của mọi số chẵn lớn hơn&nbsp;2.</p>
      <p><strong>ORCID:</strong>
        <a href="https://orcid.org/0009-0007-1543-6535" target="_blank">
          0009-0007-1543-6535
        </a>
      </p>

      <p style="margin-top:10px;font-style:italic">
        “Có một đích đến mà ai cũng nhìn thấy nhưng gần 300&nbsp;năm
        không ai chạm tới.<br/>
        Không biết có bao con đường, nhưng tôi tự hào là người
        tìm thấy con đường đầu tiên và bước về vạch đích.”
      </p>
    </div>

    <!-- Cột phải: Dẫn dắt & tuyên bố -->
    <div class="right">
      <h2>Thông tin khác</h2>
      <p>
        Xin 3&nbsp;giây để đọc qua: <b>Số chẵn = nguyên tố + nguyên tố</b>.<br/>
        Xin 3&nbsp;giây để thử → nhập X bên trái, click.<br/>
        Nó đúng với mọi X chẵn từ&nbsp;4 đến vô cùng. Vậy tôi có công thức.<br/>
        Xin tiếp 3&nbsp;giây nữa! Tôi tuyên bố là người đầu tiên
        chứng minh mọi số chẵn &gt; 2 là tổng của 2&nbsp;số nguyên tố.<br/>
        Tại đây tôi cài đặt thử nghiệm tới X = 10<sup>25</sup>,
        vượt xa mốc 10<sup>18</sup> mà thế giới từng kiểm chứng.<br/>
        Goldbach… Ngài hẳn vui khi tôi giúp trả lời?<br/>
        Hãy để ai đó đủ tiếng nói lắng nghe và đưa công trình này ra thế giới!<br/>
        Tôi nói không ai tin, mọi người đều cười tôi!
      </p>

      <p>
        Đây là một bài toán kinh điển, nhưng cách giải lại vô cùng bình dị.<br/>
        Không thuật ngữ cao siêu, không giả định thiếu khoa học, không phản chứng.<br/>
        Lập luận xuất phát từ định nghĩa, mệnh đề và logic đã chứng minh.<br/>
        Người biết chút toán, nếu nghi ngờ, chỉ cần vài giây để thấy
        câu trả lời ở ngay trước mắt.
      </p>
    </div>

  </div>

  <script>
    function solve() {
      const input = document.getElementById("x").value.trim();
      const result = document.getElementById("result");

      // Kiểm tra nhập liệu (đảm bảo số nguyên và chẵn)
      if (!/^\d+$/.test(input)) {
        result.textContent = "Vui lòng nhập một số chẵn hợp lệ.";
        return;
      }

      const x = BigInt(input);  // dùng BigInt để xử lý số lớn
      const max = 10n ** 25n;  // Giới hạn kiểm nghiệm là 10^25

      // Kiểm tra giới hạn
      if (x < 4n || x % 2n !== 0n) {
        result.textContent = "Vui lòng nhập số chẵn ≥ 4.";
        return;
      }

      if (x > max) {
        result.textContent = "Vượt quá giới hạn kiểm nghiệm tại đây (10^25).";
        return;
      }

      const xStr = x.toString();  // Convert BigInt to string

      result.textContent = "Đang tìm A + B...";

      // Fetch gọi API với giá trị x
      fetch(`https://overnight-api-57tf.vercel.app/api/solve?x=${xStr}`)
        .then(response => response.json())
        .then(data => {
          if (data.status === "success") {
            result.textContent = `Tìm được: ${data.sum} (A = ${data.a}, B = ${data.b})`;
          } else if (data.error) {
            result.textContent = `Lỗi: ${data.error}`;
          } else {
            result.textContent = "Không tìm thấy nghiệm phù hợp.";
          }
        })
        .catch(error => {
          console.error("Lỗi kết nối:", error);
          result.textContent = "Lỗi kết nối đến máy chủ.";
        });
    }
  </script>

</body>
</html>
